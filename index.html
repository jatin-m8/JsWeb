<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <title>Phone Controller</title>

  <!-- External Styles -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- External Scripts -->
  <script src="js/jquery-3.6.3.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const navItems = document.querySelectorAll(".nav__item");
    navItems.forEach((item) => {
      item.addEventListener("click", () => {
        navItems.forEach((el) => el.classList.remove("active"));
        item.classList.add("active");
      });
    });
  });
</script>


<!-- Top Navigation -->
<div class="topmenu">
<div class="topnav">
  <div class="profile-icon" id="profileBtn">
    <!-- Yeh image nav bar ke profile pic ke liye hai -->
    <img src="https://i.postimg.cc/cHQMnnnY/1000066088.png" alt="Profile" id="topProfilePic">
  </div>
  <div class="title">ZOXIPROX</div>
  <div class="action-icons">
    <span class="plus">+</span>
  </div>
</div>
 
 <!-- Sidebar Menu -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <span><i class="fab fa-codepen"></i> ZOXIPROX</span>
    <i class="fas fa-angle-left" id="closeBtn"></i>
  </div>

<!-- Profile Picture Section -->
<div class="profile-pic-container">
  <img
    src="https://i.postimg.cc/cHQMnnnY/1000066088.png"
    class="profile-pic"
    alt="Profile"
  >
  <i class="fas fa-edit edit-icon"></i>
  <input type="file" id="fileInput" accept="image/*" style="display: none;">
</div>

  <ul>
    <li><i class="fas fa-palette"></i> Your Work</li>
    <li><i class="fas fa-image"></i> Assets</li>
    <li><i class="fas fa-thumbtack"></i> Pinned Items</li>
    <li><i class="fas fa-heart"></i> Following</li>
    <li class="dropdown"><i class="fas fa-bars"></i> Categories <i class="fas fa-angle-right" style="margin-left:auto;"></i></li>
    <ul class="submenu">
      <li>HTML</li>
      <li>CSS</li>
      <li>JavaScript</li>
      <li>React</li>
    </ul>
    <li><i class="fas fa-fire"></i> Challenges</li>
    <li><i class="fas fa-wand-magic-sparkles"></i> Spark</li>
    <li><i class="fas fa-gem"></i> Codepen Pro</li>
  </ul>
</div>
</div>



<!-- Bottom Navigation -->
<nav>
  <div class="nav-box">
    <ul class="nav-container">
      <li class="nav__item">
        <a href="#Recent" class="nav__item-link">
          <div class="nav__item-icon">
            <ion-icon name="time-outline"></ion-icon>
          </div>
          <span class="nav__item-text">Recent</span>
        </a>
      </li>
      <li class="nav__item">
        <a href="#Messages" class="nav__item-link">
          <div class="nav__item-icon">
            <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
          </div>
          <span class="nav__item-text">Messages</span>
        </a>
      </li>
      <li class="nav__item active">
        <a href="#Triggers" class="nav__item-link">
          <div class="nav__item-icon">
            <ion-icon name="flash-outline"></ion-icon>
          </div>
          <span class="nav__item-text">Triggers</span>
        </a>
      </li>
      <li class="nav__item">
        <a href="#Status" class="nav__item-link">
          <div class="nav__item-icon">
            <ion-icon name="stats-chart-outline"></ion-icon>
          </div>
          <span class="nav__item-text">Status</span>
        </a>
      </li>
      <li class="nav__item">
        <a href="#Notification" class="nav__item-link">
          <div class="nav__item-icon">
            <ion-icon name="notifications-outline"></ion-icon>
          </div>
          <span class="nav__item-text">Notification</span>
        </a>
      </li>
    </ul>
  </div>
</nav>


<!--content here â¤ï¸â¤ï¸â¤ï¸-->

<div id="Recent" class="tab-section" style="display: none;">
  <!-- Existing notification content -->
  <h1>Recent settlement</h1>
</div>

<div id="Messages" class="tab-section" style="display: none;">
  <!-- Existing notification content -->
  <h1>Message settlement</h1>
</div>

<div id="Triggers" class="tab-section" style="display: block;">
  <!-- Existing notification content -->
  <!--content here â¤ï¸â¤ï¸â¤ï¸-->
 <h1 class="centerheading">Macrodroid Automation</h1>
  <div class="box">
    <span class="title">Touch Actions Via </span><br>
    <span style="color:white;font-weight: bold;">Select Method: </span>
    <input type="button" id="TA-BTN" value="X,Y" class="xy TA-BTN" selected>
    <input type="button" id="TA-BTN" value="Text" class="text TA-BTN">
    <input type="button" id="TA-BTN" value="View Id" class="id TA-BTN">
    <input type="button" id="TA-BTN" value="Gesture" class="gesture TA-BTN"><br><br>
  <section id="xy">
    <label>X Location: </label>
    <input type="text" id="X"><br>
    <label>Y Location: </label>
    <input type="text" id="Y"><br>
    <button class="button" id="cmdsend" onclick="senddata('?X='+val('X')+'&Y='+val('Y'))">Test</button>
  </section>
  <section id="text">
    <label>Text: </label>
    <input type="text" id="txt"><br>
    <button class="button" id="cmdsend" onclick="senddata('?text='+val('txt'))">Test</button>
  </section>
  <section id="id">
    <label>View Id: </label>
    <input type="text" id="idval"><br>
    <button class="button" id="cmdsend" onclick="senddata('?id='+val('idval')+'&subject='+val('subject'))">Test</button>
  </section>
  <section id="gesture">
    <label>SX: </label>
    <input type="text" id="SX"><br>
    <label>SY: </label>
    <input type="text" id="SY"><br>
    <label>EX: </label>
    <input type="text" id="EX"><br>
    <label>EY: </label>
    <input type="text" id="EY"><br>
    <button class="button"id="cmdsend"  onclick="senddata('?SX='+val('SX')+'&SY='+val('SY')+'&EX='+val('EX')+'&EY='+val('EY'))">Test</button>
  </section>
  </div>
  <div class="box">
    <span class="title">Display Dialog</span><br>
    <label>Title : </label>
    <input type="text" id="ttl"><br>
    <label>Description : </label>
    <input type="text" id="desc"><br>
    <button class="button"id="cmdsend"  onclick="senddata('?ttl='+val('ttl')+'&msg='+val('desc')+'&Store=message')">Send</button>
  </div>
  <div class="box">
    <span class="title">Popup (Toast)</span><br>
    <label>Input : </label>
    <input type="text" class="ITFD" id="popup"><br>
    <button class="button" id="cmdsend" onclick="senddata('?popup='+val('popup'))">Test</button>
  </div>
  <div class="box">
    <span class="title">Show Notification</span><br>
    <label>Title : </label>
    <input type="text" id="ttln"><br>
    <label>Description : </label>
    <input type="text" id="descn"><br>
    <button id="triggerBtn" id="cmdsend triggerBtn" onclick="senddata('?ttl='+val('ttln')+'&msg='+val('descn')+'&Store=notimessage')">Send Notification</button>
  </div>
  <div class="box">
    <span class="title">Speak Something</span><br>
    <label>Input : </label>
    <input type="text" id="tolk"><br>
    <button class="cmdsend" id="triggerBtn triggerBtn" onclick="senddata('?tolk='+val('tolk')+'&Store=Ftolk')">Tolk Now</button>
  </div>

<div class="box">
    <span class="title">Play Any Link</span><br>
    <label>Input : </label>
    <input type="text" id="stringx"><br>
    <button id="triggerBtn" class="cmdsend" onclick="checkResponse();senddata('?stringx='+val('stringx')+'&Store=link')">Run</button>
  </div>

<div class="box">
    <span class="title">Call Making & Forwarding</span><br>
    <label>Input : </label>
    <input type="text" id="call"><br>
    <button id="cmdsend triggerBtn" onclick="senddata('?stringx='+val('call')+'&Store=call')">Test</button>
  </div>

<div class="box">
    <span class="title">Listen To Live Audio</span><br>
    <label>Input : </label>
    <input type="text" id="liveaudio"><br>
    <button id="cmdsend" onclick="senddata('?stringx='+val('liveaudio')+'&Store=liveaudio')">Test</button>
    <button id="triggerBtn" id="cmdsend" style="margin: 5px;display: inline;" id="simple" onclick="senddata('?Store=stplivado')">Stop/Normal</button>
</div>

  <div class="box">
    <span class="title">Floating Text</span><br>
    <label>Text : </label>
    <input type="text" id="ftxt"><br>
    <button id="cmdsend" onclick="checkResponse();senddata('?ftext='+val('ftxt')+'&Store=floaton')">Test</button>
    <button id="cmdsend" style="margin: 5px;display: inline;" onclick="senddata('?Store=floatoff')">Disable Floating Text</button>  
  </div>
  <div class="box">
    <span class="title">Paste Text</span><br>
    <label>Text: </label>
    <input type="text" id="paste"><br>
    <button id="cmdsend" onclick="senddata('?paste='+val('paste'))">Test</button>
    <button id="cmdsend" style="margin: 5px;display: inline;" onclick="senddata('?paste=clrscr')">Clear Input Field</button>
  </div>
  <div class="box">
    <span class="title">DIM Screen</span><br>
    <label>Input (0-100) : </label>
    <input type="text" id="dim"><br>
    <button id="cmdsend" onclick="checkResponse();senddata('?DIM='+val('dim'))">Send</button>
    <button id="cmdsend" style="margin: 5px;display: inline;" onclick="senddata('?Store=dimoff')">Dim Screen Off</button>
  </div>
  <div class="box">
    <span class="title">Control Brightness</span><br>
    <label>Input (0-100) : </label>
    <input type="text" id="brts"><br>
    <button id="cmdsend" id="triggerBtn" onclick="checkResponse();senddata('?brightness='+val('brts')+'&Store=bright')">Test</button>
  </div>
  <div class="box">
    <span class="title">Telegram Bot Connection</span><br>
    <label>Api Token : </label>
    <input type="text" id="api"><br>
    <label>Chat id : </label>
    <input type="text" id="c_id"><br>
    <button id="cmdsend" onclick="senddata('?api='+val('api')+'&c_id='+val('c_id')+'&Store=botconnect')">Connect</button>
  </div>
  <div class="box">
    <div id="simplevar">
      <span class="title">Variable Control</span>
      <br>
      <label>Var Name : </label>
      <input type="text" id="varname"><br>
      <label>Var Value : </label>
      <input type="text" id="varvalue"><br>
      <button id="cmdsend" onclick="senddata('?'+val('varname')+'='+val('varvalue'))">Test</button>
      <button id="cmdsend" style="margin: 5px;display: inline;" id="advanced">Advanced Mode (Multi Var)</button>
    </div>
    <div id="advancedvar">
      <span class="title">Advanced Variable Control</span>
      <br>
      <label>Input : </label>
      <input type="text" id="parameters"><br><br>
      <span style="color:white;">Example: intparam=13&strparam&boolparam=false</span><br>
      <button id="cmdsend" onclick="senddata('?'+val('parameters'))">Test</button>
      <button id="cmdsend" style="margin: 5px;display: inline;" id="simple">Go To Normal Mode</button>
    </div>
  </div>


<!-- Quick button-->
<div class="quickcont">
        <button class="quickbtn" id="triggerBtn" onclick="senddata('?Store=torch')">Home</button>
        <button class="quickbtn" id="triggerBtn" onclick="senddata('?Store=torch')">About</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Services</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Portfolio</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Contact</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Blog</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Gallery</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Pricing</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">FAQ</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Support</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Login</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Register</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Profile</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Dashboard</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Settings</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">News</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Events</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Products</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Features</button>
        <button class="quickbtn" onclick="senddata('?Store=torch')">Reviews</button>
    </div>


  <div class="wrapper">
    <div class="dropdown-container">

        <!-- Dropdown 1 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">Trigger area <i class="fa fa-caret-down"></i></button>
  <div class="dropdown-content">
      
    <div onclick="SOB(this, 'Botton 1');senddata('?Store=one');">take photo<span class="tick">âœ”</span></div>
    
    <div onclick="SOB(this, 'Botton 2');senddata('?Store=two');">torch<span class="tick">âœ”</span></div>
    
    <div onclick="SOB(this, 'Botton 3');senddata('?Store=three');">Floating text<span class="tick">âœ”</span></div>
    
            </div>
        </div>

        <!-- Dropdown 2 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">About the way come<i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
                <div onclick="SOB(this, 'Mission');senddata('?Store=dndon');">Botton 1<span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Vision')">Botton 2<span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Goals');senddata('?Store=three');">Botton 3<span class="tick">âœ”</span></div>
            </div>
        </div>

        <!-- Dropdown 3 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">Services <i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
                <div onclick="SOB(this, 'Web Design')">Web Design <span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'SEO')">SEO <span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Marketing')">Marketing <span class="tick">âœ”</span></div>
            </div>
        </div>

 <!-- Dropdown 1 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">Trigger area <i class="fa fa-caret-down"></i></button>
  <div class="dropdown-content">
      
    <div onclick="SOB(this, 'Botton 1');senddata('?Store=one');">take photo<span class="tick">âœ”</span></div>
    
    <div onclick="SOB(this, 'Botton 2');senddata('?Store=two');">torch<span class="tick">âœ”</span></div>
    
    <div onclick="SOB(this, 'Botton 3');senddata('?Store=three');">Floating text<span class="tick">âœ”</span></div>
    
            </div>
        </div>

        <!-- Dropdown 2 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">About <i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
                <div onclick="SOB(this, 'Mission');senddata('?Store=dndon');">Botton 1<span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Vision')">Botton 2<span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Goals');senddata('?Store=three');">Botton 3<span class="tick">âœ”</span></div>
            </div>
        </div>

        <!-- Dropdown 3 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">Services <i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
                <div onclick="SOB(this, 'Web Design')">Web Design <span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'SEO')">SEO <span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Marketing')">Marketing <span class="tick">âœ”</span></div>
            </div>
        </div>

 <!-- Dropdown 1 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">WhatsApp  Pages<i class="fa fa-caret-down"></i></button>
  <div class="dropdown-content">
      
    <div onclick="SOB(this, 'Whatsapp Camera');senddata('?Pages=wpcamera');">Camera<span class="tick">âœ”</span></div>
    
    <div onclick="SOB(this, 'WhatsApp Chat');senddata('?Pages=wpchat');">Chat<span class="tick">âœ”</span></div>
    
    <div onclick="SOB(this, 'Botton 3');senddata('?Store=three');">Floating text<span class="tick">âœ”</span></div>
    
            </div>
        </div>

        <!-- Dropdown 2 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">About <i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
                <div onclick="SOB(this, 'Mission');senddata('?Store=dndon');">Botton 1<span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Vision')">Botton 2<span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Goals');senddata('?Store=three');">Botton 3<span class="tick">âœ”</span></div>
            </div>
        </div>

        <!-- Dropdown 3 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">Services <i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
                <div onclick="SOB(this, 'Web Design')">Web Design <span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'SEO')">SEO <span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Marketing')">Marketing <span class="tick">âœ”</span></div>
            </div>
        </div>

 <!-- Dropdown 1 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">Trigger area <i class="fa fa-caret-down"></i></button>
  <div class="dropdown-content">
      
    <div onclick="SOB(this, 'Botton 1');senddata('?Store=one');">take photo<span class="tick">âœ”</span></div>
    
    <div onclick="SOB(this, 'Botton 2');senddata('?Store=two');">torch<span class="tick">âœ”</span></div>
    
    <div onclick="SOB(this, 'Botton 3');senddata('?Store=three');">Floating text<span class="tick">âœ”</span></div>
    
            </div>
        </div>

        <!-- Dropdown 2 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">About <i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
                <div onclick="SOB(this, 'Mission');senddata('?Store=dndon');">Botton 1<span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Vision')">Botton 2<span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Goals');senddata('?Store=three');">Botton 3<span class="tick">âœ”</span></div>
            </div>
        </div>

        <!-- Dropdown 3 -->
        <div class="dropdown">
            <button class="dropbtn" onclick="TDB(this)">Services <i class="fa fa-caret-down"></i></button>
            <div class="dropdown-content">
                <div onclick="SOB(this, 'Web Design')">Web Design <span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'SEO')">SEO <span class="tick">âœ”</span></div>
                <div onclick="SOB(this, 'Marketing')">Marketing <span class="tick">âœ”</span></div>
            </div>
        </div>

       </div>
    </div>




    <div id="openModal" class="modalDialog">
      <div>
        <h2>Enter Your Webhook URL Below: </h2>
        <input type="text" id="webhookurl" onclick="senddata('?stringx='+val('webhookurl')+'&Store=liveaudio')" placeholder="Example: https://trigger.macrodroid.com/13062002-ca94-3fqe-a042-cf22cffe6bwc/enablewebhook">
        <p><span class="white">Disclaimer:</span> This website will never store or send your private information like webhook url and your activities. For Confirmation, You Can Inspect Code. Thank You<br><br><span class="white">Developer:</span> <span class="heart">&#10084;</span> From Mr Jatin</p><span id="warning"></span>
        <div class="right"><input type="button" id="websaver" value="Proceed"></div>
      </div>
    </div>

  <iframe src="" width="0" height="0" style={display:none}></iframe>
  <center>
    <div class="spcl" style="color: white;text-align:center;font-weight: bold;">Note: You must have to install macro named <a href="https://macrodroidlink.com/macrostore?id=12667" style="color: rgb(0, 221, 255);text-decoration: none;font-weight: bold;display: inline;">"Control Device Remotely (From Website) 15+ Features"</a> in your device to use this Web controller.<br><br>Developed By: <span class="heart">&#10084;</span> From Mr Jatin</div>
  </center>



<!-- ðŸ¤ðŸ¤ Write your Script code ðŸ¤ðŸ¤ -->

<script>
    function createPopup(message, bgColor, options = {}) {
      const existing = document.getElementById("statusPopup");
      if (existing) existing.remove();

      const popup = document.createElement("div");
      popup.className = "popup";
      popup.id = "statusPopup";
      popup.style.background = bgColor;
      popup.style.display = "flex";
      popup.style.alignItems = "center";
      popup.style.justifyContent = "center";
      popup.style.position = "fixed";
      popup.style.top = "50%";
      popup.style.left = "50%";
      popup.style.transform = "translate(-50%, -50%)";
      popup.style.padding = "15px 25px";
      popup.style.borderRadius = "12px";
      popup.style.color = "#0f172a";
      popup.style.fontSize = "16px";
      popup.style.fontWeight = "bold";
      popup.style.zIndex = 9999;
      popup.style.minWidth = "240px";

      if (options.loading) {
        const img = document.createElement("img");
        img.src = "https://i.postimg.cc/cHQMnnnY/1000066088.png";
        img.alt = "Loading...";
        img.className = "img-spinner";
        popup.appendChild(img);
      }

      const text = document.createElement("span");
      text.innerText = message;
      text.style.marginLeft = options.loading ? "10px" : "0";
      popup.appendChild(text);

      if (options.showClose) {
        const closeBtn = document.createEleme
  <!--content here â¤ï¸â¤ï¸â¤ï¸-->
</div>

<div id="status" class="tab-section" style="display: none;">
  <!-- Existing notification content -->
  <h1>Status settlement</h1>
</div>

<div id="Notification" class="tab-section" style="display: none;">
  <!-- Existing notification content -->
  <h1>Notification settlement</h1>
</div>

<div id="cropModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#000000aa; justify-content:center; align-items:center; z-index:2000;">
  <div style="background:white; padding:20px; border-radius:10px; text-align:center;">
    <h3>Crop Your Image</h3>
    <img id="cropImage" style="max-width:100%; max-height:400px;">
    <br/><br/>
    <button id="cropBtn">Crop & Save</button>
  </div>
</div>

  <!-- Script -->
<script>
  const sidebar = document.getElementById("sidebar");
  const profileBtn = document.getElementById("profileBtn");
  const closeBtn = document.getElementById("closeBtn");
  const dropdown = document.querySelector(".dropdown");
  const submenu = document.querySelector(".submenu");
  const arrowIcon = dropdown.querySelector(".fa-angle-right");

  const editIcon = document.querySelector(".edit-icon");
  const fileInput = document.getElementById("fileInput");
  const profilePic = document.querySelector(".profile-pic");
  const topProfilePic = document.getElementById("topProfilePic");

  const cropModal = document.getElementById("cropModal");
  const cropImage = document.getElementById("cropImage");
  const cropBtn = document.getElementById("cropBtn");
  let cropper;

  // Sidebar open
  profileBtn.addEventListener("click", () => {
    sidebar.classList.add("active");
  });

  // Sidebar close
  closeBtn.addEventListener("click", () => {
    sidebar.classList.remove("active");
  });

  // Dropdown menu toggle
  dropdown.addEventListener("click", () => {
    submenu.style.display = submenu.style.display === "block" ? "none" : "block";
    arrowIcon.classList.toggle("rotate");
  });

  // Edit icon opens file picker
  editIcon.addEventListener("click", () => {
    fileInput.click();
  });

  // On file select - show cropper modal
  fileInput.addEventListener("change", (event) => {
    const file = event.target.files[0];
    if (file && file.type.startsWith("image/")) {
      const reader = new FileReader();
      reader.onload = function (e) {
        cropImage.src = e.target.result;
        cropModal.style.display = "flex";

        setTimeout(() => {
          if (cropper) cropper.destroy();
          cropper = new Cropper(cropImage, {
            aspectRatio: 1,
            viewMode: 1
          });
        }, 100);
      };
      reader.readAsDataURL(file);
    }
  });

  // On crop confirm
  cropBtn.addEventListener("click", () => {
    const canvas = cropper.getCroppedCanvas({
      width: 200,
      height: 200,
    });
    const imageData = canvas.toDataURL("image/png");

    profilePic.src = imageData;
    topProfilePic.src = imageData;
    localStorage.setItem("profileImage", imageData);

    cropper.destroy();
    cropModal.style.display = "none";
  });

  // On page load - restore image from localStorage
  window.addEventListener("DOMContentLoaded", () => {
    const savedImage = localStorage.getItem("profileImage");
    if (savedImage) {
      profilePic.src = savedImage;
      topProfilePic.src = savedImage;
    }
  });
</script>


  <!-- Script -->
<script>
  const sidebar = document.getElementById("sidebar");
  const profileBtn = document.getElementById("profileBtn");
  const closeBtn = document.getElementById("closeBtn");
  const dropdown = document.querySelector(".dropdown");
  const submenu = document.querySelector(".submenu");
  const arrowIcon = dropdown.querySelector(".fa-angle-right");

  const editIcon = document.querySelector(".edit-icon");
  const fileInput = document.getElementById("fileInput");
  const profilePic = document.querySelector(".profile-pic");
  const topProfilePic = document.getElementById("topProfilePic");

  const cropModal = document.getElementById("cropModal");
  const cropImage = document.getElementById("cropImage");
  const cropBtn = document.getElementById("cropBtn");
  let cropper;

  // Sidebar open
  profileBtn.addEventListener("click", () => {
    sidebar.classList.add("active");
  });

  // Sidebar close
  closeBtn.addEventListener("click", () => {
    sidebar.classList.remove("active");
  });

  // Dropdown menu toggle
  dropdown.addEventListener("click", () => {
    submenu.style.display = submenu.style.display === "block" ? "none" : "block";
    arrowIcon.classList.toggle("rotate");
  });

  // Edit icon opens file picker
  editIcon.addEventListener("click", () => {
    fileInput.click();
  });

  // On file select - show cropper modal
  fileInput.addEventListener("change", (event) => {
    const file = event.target.files[0];
    if (file && file.type.startsWith("image/")) {
      const reader = new FileReader();
      reader.onload = function (e) {
        cropImage.src = e.target.result;
        cropModal.style.display = "flex";

        setTimeout(() => {
          if (cropper) cropper.destroy();
          cropper = new Cropper(cropImage, {
            aspectRatio: 1,
            viewMode: 1
          });
        }, 100);
      };
      reader.readAsDataURL(file);
    }
  })

  // On crop confirm
  cropBtn.addEventListener("click", () => {
    const canvas = cropper.getCroppedCanvas({
      width: 200,
      height: 200,
    });
    const imageData = canvas.toDataURL("image/png");

    profilePic.src = imageData;
    topProfilePic.src = imageData;
    localStorage.setItem("profileImage", imageData);

    cropper.destroy();
    cropModal.style.display = "none";
  });

  // On page load - restore image from localStorage
  window.addEventListener("DOMContentLoaded", () => {
    const savedImage = localStorage.getItem("profileImage");
    if (savedImage) {
      profilePic.src = savedImage;
      topProfilePic.src = savedImage;
    }
  })

// Sidebar toggle const sidebar document.getElementById("sidebar"); const profileBtn = document.getElementById("profileBtn"); const closeBtn = document.getElementById("closeBtn");

profileBtn.addEventListener("click", () => { sidebar.classList.add("active"); });

closeBtn.addEventListener("click", () => { sidebar.classList.remove("active"); });

// Submenu toggle const dropdown = document.querySelector(".dropdown"); const submenu = document.querySelector(".submenu"); const arrowIcon = dropdown.querySelector(".fa-angle-right");

dropdown.addEventListener("click", () => { submenu.style.display = submenu.style.display === "block" ? "none" : "block"; arrowIcon.classList.toggle("rotate"); });
</script>

  <!-- External Custom Script -->
  <script src="js/main.js"></script>
</body>
</html>